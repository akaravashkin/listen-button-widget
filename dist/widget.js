!function(){function loadPhoneNumber(mediaURL,cb){var request=new XMLHttpRequest;request.open("POST","http://qa-devvm.int:8010/create",!0),request.setRequestHeader("Content-type","application/json"),request.onload=function(){if(200===request.status){var data=JSON.parse(request.responseText);cb(((numStr=data.phonenumber)&&(numStr=numStr.match(/^1/)?"("+(numStr=numStr.substring(1)).substr(0,3)+") "+numStr.substr(3,3)+" "+numStr.substr(6,4):"+"+numStr),numStr))}var numStr},request.send(JSON.stringify({url:mediaURL}))}for(var widgetNodes=document.getElementsByClassName("listen-button-widget"),i=0;i<widgetNodes.length;i++){var parentNode=widgetNodes[i],source=parentNode.dataset.src,button=document.createElement("button");button.className="lbw-listen-button",button.innerHTML=parentNode.dataset.text||"Listen",button.addEventListener("click",function(mediaURL,container){loadPhoneNumber(mediaURL,function(phoneNumber){container.innerHTML='<a class="lbw-phone-number" href="tel:'+phoneNumber+'">'+phoneNumber+"</a>"})}.bind(this,source,parentNode),!1),parentNode.appendChild(button)}var cssTag=document.createElement("style");cssTag.innerHTML='  @import url("https://fonts.googleapis.com/css?family=Roboto+Slab:700");  .lbw-listen-button{font-family: "Roboto Slab", serif;background-color: #FF5A36;color: #fff;font-size: 14px;line-height: 32px;margin: 0 5px;border-radius: 100px;padding: 0 20px;text-align: center;border:0;cursor:pointer;}  .lbw-listen-button:focus{outline: 0;}  .lbw-listen-button:active{outline: 0; box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);}  .lbw-phone-number{font-family: "Roboto Slab"; font-size: 22px;color: #FF5A36;text-decoration:none}',document.documentElement.appendChild(cssTag)}();